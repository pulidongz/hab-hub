{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = csv;\nvar newLine = '\\r\\n';\n\nfunction csv(columns, datas) {\n  var separator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : ',';\n  var noHeader = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var columnOrder = columns ? columns.map(function (v) {\n    return typeof v === 'string' ? v : v.id;\n  }) : datas.reduce(function (acc, v) {\n    return Array.isArray(v) ? acc : acc.concat(Object.keys(v));\n  }, []).filter(function (value, index, self) {\n    return self.indexOf(value) === index;\n  });\n  var content = [];\n\n  if (!noHeader && columnOrder.length > 0) {\n    var headers = columns ? columns.map(function (v) {\n      if (typeof v === 'string') {\n        return v;\n      }\n\n      if (typeof v.displayName !== 'undefined') {\n        return v.displayName;\n      }\n\n      return v.id;\n    }) : columnOrder;\n    content.push(headers.join(separator));\n  }\n\n  if (Array.isArray(datas)) {\n    datas.map(function (v) {\n      return Array.isArray(v) ? v : columnOrder.map(function (k) {\n        return typeof v[k] === 'undefined' ? '' : v[k];\n      });\n    }).forEach(function (v) {\n      content.push(v.join(separator));\n    });\n  }\n\n  return content.join(newLine);\n}","map":null,"metadata":{},"sourceType":"script"}